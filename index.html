<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <style>
      .widget {
        padding: 15px;
        background-color: #f4f4f4;
        border: 1px solid #ccc;
        width: 300px;
        border-radius: 5px;
      }
    </style>
  </head>
  <body>
    <div class="widget">
      <h4>Boliviano Blue</h4>
      <p id="compra">Compra: Cargando...</p>
      <p id="venta">Venta: Cargando...</p>
      <small id="lastUpdate">Última actualización: Cargando...</small>
    </div>
    <script>
      // Llamamos a la función del servidor de Google Apps Script para obtener los datos
      google.script.run.withSuccessHandler(function(data) {
        document.getElementById('compra').textContent = 'Compra: Bs ' + data.compra;
        document.getElementById('venta').textContent = 'Venta: Bs ' + data.venta;
        document.getElementById('lastUpdate').textContent = 'Última actualización: ' + data.lastUpdate;
      }).obtenerDatosWidget();
    </script>
  </body>

<script>
      // Función para hacer la solicitud a la API de Google Apps Script
      async function obtenerDatos() {
        const response = await fetch('https://script.google.com/macros/s/AKfycby6Ez26dlJvAAZ-963VM_GlTfZexzjtrc3cQE5zaAmOiCXwivYaUa3ybwBxMuQiXbrG/exec');  // URL de tu Web App
        const data = await response.json();  // Parsear la respuesta JSON

        // Actualizar el contenido de la página con los datos obtenidos
        document.getElementById('compra').textContent = 'Compra: Bs ' + data.compra;
        document.getElementById('venta').textContent = 'Venta: Bs ' + data.venta;
        document.getElementById('lastUpdate').textContent = 'Última actualización: ' + data.lastUpdate;
      }

      // Llamar a la función para obtener los datos cuando la página se carga
      window.onload = obtenerDatos;
    </script>
  </body>
</html>
  
</html>
